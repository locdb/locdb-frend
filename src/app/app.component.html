<div class="panel panel-default" style="margin-top: 10px">
  <div class="panel-heading"><h1>{{title}}</h1></div>
  <div class="panel-body">
    <section class="container-fluid">
      <div class="row" style="margin-top: 10px">
        <svg [attr.viewBox]="'0 0 '+header.width+' '+header.height">
          <line [attr.x1]="header.height/2" 
                [attr.y1]="header.height*0.55" 
                [attr.x2]="header.width-header.height/2" 
                [attr.y2]="header.height*0.55" 
                [attr.visibility]="header.lineVisibility"
                stroke="black" 
                stroke-width="1"
                stroke-linecap="square"
                fill="lightgreen"/>
        <line [attr.x1]="header.height/2" 
                [attr.y1]="header.height*0.55" 
                [attr.x2]="header.width-header.height/2" 
                [attr.y2]="header.height*0.55" 
                [attr.visibility]="header.lineVisibility"
                stroke="lightgreen" 
                stroke-width="0.75"
                stroke-linecap="square"/>
          <svg:circle [attr.cx]="header.height/2" 
                      [attr.cy]="header.height*0.55" 
                      [attr.r]="header.height*header.rp" 
                      stroke="black" 
                      stroke-width="0.25"
                      [attr.fill]="header.colorStart" 
                      (click)="onclickstart()"/>
          <text [attr.x]="header.height/2" 
                [attr.y]="header.height*0.16" 
                style="fill: #000000; stroke: none; font-size: 4px;"
                text-anchor="middle">Start</text>
          <svg:circle [attr.cx]="header.width-header.height/2" 
                      [attr.cy]="header.height*0.55" 
                      [attr.r]="header.height*header.rp" 
                      stroke="black" 
                      stroke-width="0.25"
                      [attr.fill]="header.colorCitation"
                      (click)="onclickcitation()"
                      [attr.visibility]="header.citationCircleVisibility"/>
          <text [attr.x]="header.width-header.height/2" 
                [attr.y]="header.height*0.16" 
                style="fill: #000000; stroke: none; font-size: 4px;"
                [attr.visibility]="header.citationCircleVisibility"
                text-anchor="middle">Citation</text>
        </svg>
      </div>
      <!-- diagnostics -->
      <p>
      <b> Entry: </b> {{ entry | json }}
      </p>
      <p>
      <b> Resource: </b> {{ resource | json }}
      </p>

      <div class="row" style="margin-top: 10px">
        <div class="col-xs-12 col-sm-6 col-md-4">
          <!-- display component OUTPUT: entry to use --> 
          <app-display (entry)="updateEntry($event)"></app-display>
        </div>
        <div class="col-xs-12 col-sm-6 col-md-4">
          <div *ngIf="entry" class="panel panel-default">
            <div class="panel-heading">
              <b>Suggestions</b>
            </div>
            <div class="panel-body">
              <!-- suggestion component INPUT: entry, OUTPUT: resource -->
              <app-suggestion [entry]="entry" (suggest)="updateResource($event)"></app-suggestion>
            </div>
          </div>
        </div>
        <div class="col-xs-12 col-sm-6 col-md-4">
          <div *ngIf="resource" class="panel panel-default">
            <div class="panel-heading">
              <b>Bibliographic entry</b>
            </div>
            <div class="panel-body">
              <!--<app-resource-form [entry]="entry" (state)="updateForSuggestion($event)"></app-resource-form>-->
              <!-- resource form component INPUT: resource, OUTPUT: submit event with new resource? -->
              <app-resource-form [resource]="resource"></app-resource-form>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>

