<!-- Panel heading including search bar -->
<div class="container">
<div class="card">
<!-- <div class="card-header">
  <div class="form-group">
    <textarea class="form-control" [(ngModel)]="query" rows="3" style="resize: none;"></textarea>
  </div>
  <span class="form-group">
    <label class="center-block">Confidence threshold for internal
      <input class="form-control" type="number" min=0.0 step=0.1 [(ngModel)]="internalThreshold">
    </label>
  </span>
  <button type="button" class="btn btn-success float-right" aria-label="Search" (click)="refresh()">
    Search
  </button>
</div> -->

<div class="card-header">
  <div class="row" style="">
    <div class="form-group col-md-1" style="padding-right: 0px">
  <button type="button" class="btn btn-block mx-auto" (click)="toggle_extended_search()" style="height: 100px;">
    <i *ngIf="!search_extended" class="fa fa-angle-double-down"></i>
    <i *ngIf="search_extended" class="fa fa-angle-double-up"></i>
  </button>
  </div>
    <div class="col-md-10" style="padding: 0px">
      <div class="form-group">
        <textarea class="form-control" [(ngModel)]="query" rows="3" style="resize: none;"></textarea>
      </div>
    </div>
    <div class="col-md-1" style="padding-left: 0px">
      <button type="button" class="btn btn-success btn-block mx-auto" aria-label="Search" (click)="refresh()" style="height: 100px;">
        <i class="fa fa-search"></i>
      </button>
    </div>

  </div>
  <div class="row" style="">
      <div class="form-group col-md-4">
      <label *ngIf="search_extended" class="center-block">Number of results
        <input class="form-control" type="number" min=1 step=1 [(ngModel)]="internalThreshold">
      </label>
      </div>
  <div class="col-md-2">
    <!-- <popover-content #searchPopover [closeOnClickOutside]="true">
      <a href="{{'https://scholar.google.com/scholar?q='+encodeURI(query)}}"
      target="_blank" style="target-new: tab;" class="btn float-right" role="button"
      (click)="logAskOthers()">Google Scolar</a>
    </popover-content>
    <button *ngIf="search_extended" type="button" [popover]="searchPopover" class="btn float-right">
      Ask Others</button> -->
    </div>
        <!-- <div class="form-group col-md-1">
      <button type="button" class="btn" (click)="toggle_extended_search()">
        <i *ngIf="!search_extended" class="fa fa-angle-double-down"></i>
        <i *ngIf="search_extended" class="fa fa-angle-double-up"></i>
      </button>
      </div> -->
  </div>
</div>

<div class="card-body" style="height: 800px; overflow-y: scroll;">
  <!-- Panel body providing suggestions -->
  <div class="card-block">
    <div *ngFor="let r of internalSuggestions; let i = index">
      {{ r | json }}
      <app-resource-card [resources]="r" [selected]="r[1] == selectedResource" (click)="onSelect(r[1])">
      </app-resource-card>
    </div>
    <div *ngIf="internalInProgress" class="loader">
    </div>
  </div>
</div>
<!-- Panel footer allowing actions -->
<div class="card-footer">
</div>
</div>
